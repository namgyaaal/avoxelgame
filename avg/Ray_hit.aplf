 Ray_hit←{
     ⍝ ⍺ ←→ position
     ⍝ ⍵ ←→ velocity
     ⎕IO←0⋄p←⍺⋄s←×v←⍵
     rp←⌊(1E¯4×v)+p
     (∧/1>|v):⊂rp
     m←0⍴⍨,⍨≢v⋄(0 0⍉m)←{s×0=⍵}⍛+s×1||(0<s)-p
     t←÷⍤(v∘⌹)¨{0≠∨/⍵}¨⍛/↓m
     dv←v×⌊/t
     ∪(⊂rp),(p+dv)∇(v-dv)
 }
